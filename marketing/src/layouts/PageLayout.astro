---
import Layout from "./Layout.astro";
import { Navigation } from "../components/organisms/navigation";
import { ContactCalendly } from "../components/organisms/contact-calendly";
import { Footer } from "../components/organisms/footer";
import { ThemeProvider } from "../components/meta/theme-provider";
import type { MetaData } from "../types";

export interface Props {
  metadata?: MetaData;
  frontmatter?: {
    title?: string;
    description?: string;
  };
}

const { metadata: metadataProp, frontmatter } = Astro.props;

const metadata = metadataProp || {
  title: frontmatter?.title,
  description: frontmatter?.description,
};
---

<Layout metadata={metadata}>
  <ThemeProvider
    client:load
    attribute="class"
    defaultTheme="light"
    forcedTheme="light"
    disableTransitionOnChange
  >
    <Navigation client:load />
    
    <main class="relative w-full min-h-screen">
      <div class="mx-auto max-w-[80rem] w-full min-h-screen flex flex-col">
        <div class="flex-1">
          <slot />
          <ContactCalendly client:visible />
        </div>
      </div>
    </main>
    <Footer client:load />
  </ThemeProvider>
</Layout>
